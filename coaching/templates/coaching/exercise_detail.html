{% extends 'coaching/base.html' %}

{% block title %}{{ exercise.title|default:"Exercice" }} - NextMind{% endblock %}

{% block content %}
<div class="container">
  <h2 class="mb-3">{{ exercise.title }}</h2>

  <p class="text-muted">{{ exercise.theme }} — {{ exercise.estimated_duration }} min</p>

  <div class="card mb-3">
    <div class="card-body">
      <h5>Instructions</h5>
      <p>{{ exercise.instructions|default:exercise.description }}</p>

      {% if exercise.reflection_questions %}
        <h6 class="mt-3">Questions de réflexion</h6>
        <ul>
          {% for q in exercise.reflection_questions %}
            <li>{{ q }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>
  </div>

  <form method="post" action="">
    {% csrf_token %}
    <input type="hidden" name="exercise_id" value="{{ exercise.id }}">
    <button class="btn btn-primary" type="submit">Marquer comme commencé / Lancer</button>
    <a href="{% url 'exercises' %}" class="btn btn-link">Retour aux exercices</a>
  </form>
</div>
{% endblock %}